import { ArgsTable, Canvas, Description, Meta, Story } from '@storybook/addon-docs'
import { withThemes } from '@dhruvkb/storybook-addon-themes/dist/vue'

import { binaryFn } from '@/bins/Tree.vue'

import Executable from '@/components/executable/Executable.vue'

<Meta
  title="Elements/Executable"
  component={Executable}
  decorators={[
    withThemes,
  ]}/>

# Executable

<Description of={Executable}/>

<ArgsTable of={Executable}/>

export const Template = (args) => ({
  components: { Executable },
  setup() {
    return { args }
  },
  template: `
    <Executable v-bind="args"/>
  `,
})

export const defaultArgs = {
  bin: binaryFn().toJSON(),
  showArgs: true,
  isClickable: true,
}

## Default

In the absence of styling, the `Executable` component looks like this.

<Canvas>
  <Story
    name="Default"
    args={defaultArgs}>
    {Template.bind({})}
  </Story>
</Canvas>

## Styling

The component can be styled by setting the following CSS custom properties.

| Property           | Description                | Default                |
|--------------------|----------------------------|------------------------|
| `--binary-color`   | Text color for binary name | `--color-normal-green` |
| `--argument-color` | Text color for arguments   | `--color-normal-blue`  |

Here is `Executable` with some custom styling applied.

```css
.executable {
  --binary-color: var(--color-normal-cyan);
  --argument-color: var(--color-normal-magenta);
}
```

<Canvas>
  <Story
    name="Styled"
    args={{
      ...defaultArgs,
      style: {
        '--binary-color': 'var(--color-normal-cyan)',
        '--argument-color': 'var(--color-normal-magenta)',
      },
    }}>
    {Template.bind({})}
  </Story>
</Canvas>
